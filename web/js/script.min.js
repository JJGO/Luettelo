function showLogin(){document.getElementById("loginPanel").style.display="block",document.getElementById("signupPanel").style.display="none",document.getElementById("btnShowLogin").style.background="#d83c3c",document.getElementById("btnShowSignUp").style.background="#bf3535"}function showSignUp(){document.getElementById("loginPanel").style.display="none",document.getElementById("signupPanel").style.display="block",document.getElementById("btnShowLogin").style.background="#bf3535",document.getElementById("btnShowSignUp").style.background="#d83c3c"}function AJAX(e,t){if(!lock){lock=!0;var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?t(n.responseText):(alert("te has pasado de listo"),document.location.replace("/")),lock=!1)},n.open("GET",e,!0),n.send()}}function reloadContent(){location.reload()}function search(){var e="/search/"+document.getElementById("query").value;document.location.replace(e)}function login(){url="/Login.auth?username="+document.getElementById("username_login").value+"&password="+document.getElementById("password_login").value,AJAX(url,loginJSON)}function loginJSON(responseText){var objectJSON=eval("("+responseText+")");1==objectJSON.loginError?document.getElementById("loginError").innerHTML=objectJSON.message:0==objectJSON.loginError&&(document.getElementById("loginError").innerHTML="",location.reload())}function signUpJSON(responseText){var objectJSON=eval("("+responseText+")");1==objectJSON.signupError?document.getElementById("signupError").innerHTML=objectJSON.message:0==objectJSON.signupError&&(document.getElementById("signupError").innerHTML="",location.reload())}function validateSignUp(){var e=document.getElementById("username").value,t=document.getElementById("email").value,n=document.getElementById("password").value,o=document.getElementById("rpassword").value;document.getElementById("errorUsername").innerHTML="",document.getElementById("errorEmail").innerHTML="",document.getElementById("errorPassword").innerHTML="",document.getElementById("errorRpassword").innerHTML="",e.match(/^[a-z0-9_-]{3,15}$/)?t.match(/^^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/)?n.match(/^.{8,}$/)?n!==o?document.getElementById("errorRpassword").innerHTML="The passwords do not match":(url="/Register.auth?username="+e+"&email="+t+"&password="+n+"&rpassword="+o,AJAX(url,signUpJSON)):document.getElementById("errorPassword").innerHTML="The password must be at least 8 characters long":document.getElementById("errorEmail").innerHTML="The email address is invalid":document.getElementById("errorUsername").innerHTML="The username must contain lowercase letters and numbers and be 3-15 characters long"}function logout(){url="/Logout.auth",AJAX(url,reloadContent)}function updateContent(e){document.getElementById("content").innerHTML=e}function updateDisplayList(e){document.getElementById("displayList").innerHTML=e}function addComment(){var e=document.getElementById("listId").value,t="/AddComment.do?listId="+e;t+="&content="+document.getElementById("comment-field").value,AJAX(t,updateContent)}function editComment(e){var t=document.getElementById("comment-"+e);t.style.display="none",document.getElementById("comment-edit-"+e).style.display="block",document.getElementById("comment-field-"+e).value=t.innerHTML,document.getElementById("op-"+e).style.display=none}function commitEditComment(e){var t=document.getElementById("listId").value,n="/EditComment.do?listId="+t;n+="&commentId="+e,n+="&content="+document.getElementById("comment-field-"+e).value,AJAX(n,updateContent)}function removeComment(e){if(confirm("Do you really want to delete the comment?")){var t=document.getElementById("listId").value,n="/RemoveComment.do?listId="+t;n+="&commentId="+e,AJAX(n,updateContent)}}function addItem(){var e=document.getElementById("listId").value,t="/AddItem.do?listId="+e;t+="&name="+document.getElementById("item-name").value,t+="&url="+document.getElementById("item-url").value,AJAX(t,updateContent)}function editItem(e){document.getElementById("item-title-"+e).style.display="none",document.getElementById("item-edit-"+e).style.display="block",document.getElementById("name-field-"+e).value=document.getElementById("item-url-"+e).text,document.getElementById("url-field-"+e).value=document.getElementById("item-url-"+e).href}function commitEditItem(e){var t=document.getElementById("listId").value,n="/EditItem.do?listId="+t;n+="&itemId="+e,n+="&name="+document.getElementById("name-field-"+e).value,n+="&url="+document.getElementById("url-field-"+e).value,AJAX(n,updateContent)}function removeItem(e){if(confirm("Do you really want to delete the item?")){var t=document.getElementById("listId").value,n="/RemoveItem.do?listId="+t;n+="&itemId="+e,AJAX(n,updateContent)}}function editList(){document.getElementById("list-title").style.display="none",document.getElementById("list-description").style.display="none",document.getElementById("list-comments").style.display="none",document.getElementById("list-category").style.display="none",document.getElementById("list-edit").style.display="block";document.getElementById("list");document.getElementById("ltitle-field").value=document.getElementById("list-title").innerHTML,document.getElementById("lcategory-field").value=document.getElementById("list-category").text,document.getElementById("ldescription-field").value=document.getElementById("list-description").innerHTML}function commitEditList(){var e=document.getElementById("listId").value,t="/EditList.do?listId="+e;t+="&name="+document.getElementById("ltitle-field").value,t+="&category="+document.getElementById("lcategory-field").value,t+="&description="+document.getElementById("ldescription-field").value,AJAX(t,updateDisplayList)}function removeList(){if(confirm("Do you really want to delete this list?. This will delete all the items in it (This action cannot be undone)")){var e=document.getElementById("listId").value,t="/RemoveList.do?listId="+e;document.location.replace(t)}}function subscribeList(){var e=document.getElementById("listId").value,t="/SubscribeList.do?listId="+e;AJAX(t,updateContent)}function unsubscribeList(){var e=document.getElementById("listId").value,t="/UnsubscribeList.do?listId="+e;AJAX(t,updateContent)}function checkItem(e){var t=document.getElementById("listId").value,n="/CheckItem.do?listId="+t;n+="&itemId="+e,AJAX(n,updateContent)}function uncheckItem(e){var t=document.getElementById("listId").value,n="/UncheckItem.do?listId="+t;n+="&itemId="+e,AJAX(n,updateContent)}function rateItem(e,t){var n=document.getElementById("listId").value,o="/RateItem.do?listId="+n;o+="&itemId="+e,o+="&rating="+t,AJAX(o,updateContent)}function hoverSubscribe(){document.getElementById("subscribeIcon").src="/images/subscribed.png"}function unhoverSubscribe(){document.getElementById("subscribeIcon").src="/images/subscribe.png"}function hoverUnsubscribe(){document.getElementById("subscribeIcon").src="/images/unsubscribed.png"}function unhoverUnsubscribe(){document.getElementById("subscribeIcon").src="/images/subscribed.png"}function hoverCheck(e){document.getElementById("checkIcon-"+e).src="/images/checked.png"}function unhoverCheck(e){document.getElementById("checkIcon-"+e).src="/images/check.png"}function hoverUncheck(e){document.getElementById("checkIcon-"+e).src="/images/unchecked.png"}function unhoverUncheck(e){document.getElementById("checkIcon-"+e).src="/images/checked.png"}var lock=!1;